{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Punchcard Visualization like on Github. The day on y-axis uses a custom order from Monday to Sunday.  The sort property supports both full day names (e.g., 'Monday') and their three letter initials (e.g., 'mon') -- both of which are case insensitive.",

    "params": [
    {
      "name": "Year_filter",
      "bind": {
        "input": "select",
        "options": [
          "2012",
          "2013"
       ],
        "labels":[
         "2012",
         "2013"
        ],
        "name": "AFL Team: "
      }
    }
  ],

  "data": { "url": "https://raw.githubusercontent.com/sam-callaghan/Data-Visualisation-2/main/data/afl_stats_team_matchup_reorder_only_cutdown.csv"},
  "transform": [
      {"filter": "datum.Year == Year_filter"},
      {"calculate": "abs(datum.Margin)", "as": "Avergae Margin (Absolute)"}
  ],
  "mark": "circle",
  "encoding": {
    "y": {
      "field": "Team1",
      "type": "nominal"
    },
    "x": {
      "field": "Team2",
      "type": "nominal"
    },
    "size": {
      "field": "Margin",
      "type": "quantitative",
      "aggregate": "sum"
    }
  }
}
